{"version":3,"sources":["pages/Admin/AddAdmin/addAdmin.jsx"],"names":["addAdmin","Admin","Option","Select","AddAdmin","props","value","a","adminId","Date","getTime","code","message","history","push","useEffect","Store","getState","power","setTimeout","goBack","className","name","onFinish","initialValues","Item","label","rules","required","type","max","min","placeholder","style","marginLeft","readOnly","wrapperCol","textAlign","width","htmlType","size"],"mappings":"qRAMOA,EAAUC,IAAVD,SACCE,EAAWC,IAAXD,OACO,SAASE,EAASC,GAAO,4CACrC,WAAwBC,GAAxB,SAAAC,EAAA,6DACID,EAAME,SAAS,IAAIC,MAAOC,UAAUJ,EAAME,QAD9C,SAEqBR,EAASM,GAF9B,OAGmB,QAHnB,OAGYK,OACJC,YAAQ,4BACRP,EAAMQ,QAAQC,KAAK,iDAL3B,4CADqC,sBAiBpC,OARAC,qBAAU,WAC+B,MAAlCC,IAAMC,WAAN,MAA0BC,QACzBN,YAAQ,4BACRO,YAAW,WACPd,EAAMQ,QAAQO,WAChB,SAIN,yBAASC,UAAU,qBAAnB,SACK,eAAC,IAAD,CAAMC,KAAK,gBAAgBC,SAnBC,SAAD,mCAmBoBC,cAAe,CAACN,MAAM,KAArE,UACW,cAAC,IAAKO,KAAN,CACIH,KAAK,UACLI,MAAM,qBACNC,MAAO,CACP,CACIC,UAAU,EACVhB,QAAQ,0CACV,CACEiB,KAAK,SACLC,IAAI,EACJC,IAAI,EACJnB,QAAQ,gDAXhB,SAeI,cAAC,IAAD,CAAOoB,YAAY,6DAEvB,cAAC,IAAKP,KAAN,CACIQ,MAAO,CAACC,WAAW,IACnBZ,KAAK,OACLI,MAAM,eACNC,MAAO,CACP,CACIC,UAAS,EACThB,QAAQ,yCAPhB,SAWI,cAAC,IAAD,CAAOoB,YAAY,qCAEvB,cAAC,IAAKP,KAAN,CACIQ,MAAO,CAACC,WAAW,IACnBZ,KAAK,WACLI,MAAM,eACNC,MAAO,CACP,CACIC,UAAS,EACThB,QAAQ,yCAPhB,SAWI,cAAC,IAAD,CAAOoB,YAAY,qCAEvB,cAAC,IAAKP,KAAN,CACIQ,MAAO,CAACC,WAAW,IACnBZ,KAAK,QACLI,MAAM,eACNC,MAAO,CACP,CACIC,UAAS,EACThB,QAAQ,yCAPhB,SAWI,cAAC,IAAD,UACI,cAACV,EAAD,CAAQI,MAAM,IAAd,gDAGR,cAAC,IAAKmB,KAAN,CACIC,MAAM,2BACNO,MAAO,CAACC,YAAY,GAFxB,SAII,cAAC,IAAD,CAAO5B,MAAM,SAAS6B,UAAQ,MAElC,cAAC,IAAKV,KAAN,CAAWW,WAAY,GAAvB,SACI,yBAASH,MAAO,CAACI,UAAU,SAASC,MAAM,QAA1C,SACI,cAAC,IAAD,CAAQT,KAAK,UAAUU,SAAS,SAASC,KAAK,QAA9C","file":"static/js/22.9d8324b3.chunk.js","sourcesContent":["import React,{useEffect} from 'react'\r\nimport { Form, Input,Button,Select } from 'antd';\r\nimport \"./addAdmin.scss\";\r\nimport {Admin} from \"../../../axios\";\r\nimport { message } from '../../../api';\r\nimport Store from '../../../redux/store';\r\nconst {addAdmin}=Admin;\r\nconst { Option } = Select;\r\nexport default function AddAdmin(props) {\r\n   async function onFinish(value){\r\n       value.adminId= new Date().getTime()+value.adminId;\r\n       const data=await addAdmin(value);\r\n       if(data.code==='200'){\r\n           message(\"添加成功\");\r\n           props.history.push(\"/admin-index/工作台/管理\");\r\n        }    \r\n    }\r\n    useEffect(()=>{\r\n        if(Store.getState()['admin'].power!=='2'){\r\n            message(\"没有权限\");\r\n            setTimeout(()=>{\r\n                props.history.goBack();\r\n            },2000);\r\n        }\r\n    })\r\n    return (\r\n        <section className=\"addAdmin-container\">\r\n             <Form name=\"nest-messages\" onFinish={onFinish} initialValues={{power:'0'}} >\r\n                        <Form.Item\r\n                            name='adminId'\r\n                            label=\"职工号\"\r\n                            rules={[\r\n                            {\r\n                                required: true,\r\n                                message:'用户Id不能为空'\r\n                            },{\r\n                                type:'string',\r\n                                max:4,\r\n                                min:4,\r\n                                message:'只能输入4个字符'\r\n                            }\r\n                            ]}\r\n                        >\r\n                            <Input placeholder=\"请输入职工号后四位\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            style={{marginLeft:14}}\r\n                            name='name'\r\n                            label=\"姓名\"\r\n                            rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'姓名不能为空'\r\n                            },\r\n                            ]}\r\n                        >\r\n                            <Input placeholder=\"请输入姓名\"/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            style={{marginLeft:14}}\r\n                            name='position'\r\n                            label=\"职位\"\r\n                            rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'职位不能为空'\r\n                            },\r\n                            ]}\r\n                        >\r\n                            <Input placeholder=\"请输入姓名\"/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            style={{marginLeft:14}}\r\n                            name='power'\r\n                            label=\"管理\"\r\n                            rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'职位不能为空'\r\n                            },\r\n                            ]}\r\n                        >\r\n                            <Select > \r\n                                <Option value=\"0\">普通管理员</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"初始密码\"\r\n                            style={{marginLeft:-4}}\r\n                        >\r\n                            <Input value='123456' readOnly></Input>\r\n                        </Form.Item>\r\n                        <Form.Item wrapperCol={{}}>\r\n                            <section style={{textAlign:'center',width:'100%'}}>\r\n                                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n                                    提交\r\n                                </Button>\r\n                            </section>\r\n                        </Form.Item>\r\n                        </Form>\r\n        </section>\r\n    )\r\n}\r\n"],"sourceRoot":""}