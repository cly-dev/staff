(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[13],{409:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return c}))},421:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),r=n(2),c=n(5),i=n(0),o=n(6),s=n.n(o),l=n(41),u=n(57);function d(e){var t=e.className,n=e.direction,c=e.index,o=e.marginDirection,s=e.children,l=e.split,u=e.wrap,d=i.useContext(b),p=d.horizontalSize,f=d.verticalSize,h=d.latestIndex,O={};return d.supportFlexGap||("vertical"===n?c<h&&(O={marginBottom:p/(l?2:1)}):O=Object(a.a)(Object(a.a)({},c<h&&Object(r.a)({},o,p/(l?2:1))),u&&{paddingBottom:f})),null===s||void 0===s?null:i.createElement(i.Fragment,null,i.createElement("div",{className:t,style:O},s),c<h&&l&&i.createElement("span",{className:"".concat(t,"-split"),style:O},l))}var p=n(164),f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},b=i.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),h={small:8,middle:16,large:24};t.b=function(e){var t,n=i.useContext(u.b),o=n.getPrefixCls,O=n.space,j=n.direction,m=e.size,g=void 0===m?(null===O||void 0===O?void 0:O.size)||"small":m,v=e.align,y=e.className,x=e.children,k=e.direction,S=void 0===k?"horizontal":k,w=e.prefixCls,z=e.split,P=e.style,N=e.wrap,C=void 0!==N&&N,E=f(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),I=Object(p.a)(),D=i.useMemo((function(){return(Array.isArray(g)?g:[g,g]).map((function(e){return function(e){return"string"===typeof e?h[e]:e||0}(e)}))}),[g]),_=Object(c.a)(D,2),G=_[0],R=_[1],T=Object(l.a)(x,{keepEmpty:!0}),B=void 0===v&&"horizontal"===S?"center":v,F=o("space",w),A=s()(F,"".concat(F,"-").concat(S),(t={},Object(r.a)(t,"".concat(F,"-rtl"),"rtl"===j),Object(r.a)(t,"".concat(F,"-align-").concat(B),B),t),y),M="".concat(F,"-item"),J="rtl"===j?"marginLeft":"marginRight",K=0,L=T.map((function(e,t){return null!==e&&void 0!==e&&(K=t),i.createElement(d,{className:M,key:"".concat(M,"-").concat(t),direction:S,index:t,marginDirection:J,split:z,wrap:C},e)})),U=i.useMemo((function(){return{horizontalSize:G,verticalSize:R,latestIndex:K,supportFlexGap:I}}),[G,R,K,I]);if(0===T.length)return null;var W={};return C&&(W.flexWrap="wrap",I||(W.marginBottom=-R)),I&&(W.columnGap=G,W.rowGap=R),i.createElement("div",Object(a.a)({className:A,style:Object(a.a)(Object(a.a)({},W),P)},E),i.createElement(b.Provider,{value:U},L))}},886:function(e,t,n){},927:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var a=n(33),r=n.n(a),c=n(63),i=n(409),o=n(46),s=n(47),l=n(49),u=n(48),d=n(0),p=n(357),f=n(421),b=n(45),h=n(947),O=n(40),j=n(32),m=(n(886),n(3)),g=p.a.Search,v=O.b.getAllOrder,y=O.b.searchOrder,x=O.b.deleteOrder,k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state=Object(i.a)(Object(i.a)({},a.obj),{},{contont:""}),a.handleChange=function(e){a.props.history.push("/index/changeOrder/".concat(e._id))},a.handleDelete=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.data,e.next=3,x(t._id);case 3:if("200"!==(c=e.sent).code){e.next=12;break}if(a.setState({data:n.filter((function(e){return e._id!==t._id})),total:a.state.total-1}),!(a.state.total>=8)){e.next=9;break}return e.next=9,a.handlePageNum(a.state.current);case 9:Object(j.a)("\u5220\u9664\u6210\u529f","success"),e.next=13;break;case 12:Object(j.a)(c.msg);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSearch=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.search=!0,e.next=3,y(1,t);case 3:"200"===(n=e.sent).code?(Object(j.a)("\u5171\u627e\u5230"+n.pageSize+"\u8bb0\u5f55","success"),n.data.forEach((function(e){e.key=e._id})),a.setState({data:n.data,total:n.pageSize,contont:t,current:1})):Object(j.a)(n.msg);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleInput=function(){""===a.TableRef.current.state.value&&(a.setState(Object(i.a)({},a.obj)),a.search=!1)},a.handlePageNum=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.search){e.next=6;break}return e.next=3,v(t);case 3:c=e.sent,e.next=9;break;case 6:return e.next=8,y(t,a.state.contont);case 8:c=e.sent;case 9:a.setState({data:c.data,current:t});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.TableRef=Object(d.createRef)(),a.search=!1,a.action=function(e){return Object(m.jsxs)(f.b,{children:[Object(m.jsx)(b.a,{onClick:function(){return a.handleChange(e)},children:"\u4fee\u6539"}),Object(m.jsx)(b.a,{onClick:function(){return a.handleDelete(e)},children:"\u5220\u9664"})]})},a.obj={data:[],total:0,current:1},a.columns=[{title:"\u5546\u54c1\u540d",dataIndex:"name",align:"center",key:"name"},{title:"\u65f6\u95f4",dataIndex:"createTime",align:"center",key:"createTime"},{title:"\u6570\u91cf",dataIndex:"num",align:"center",key:"num"},{title:"\u4ef7\u683c(\u5143)",dataIndex:"price",align:"center",key:"price"},{title:"\u5907\u6ce8",dataIndex:"mark",align:"center",key:"mark"},{title:"\u64cd\u4f5c",align:"center",render:function(e){return a.action(e)},key:"func"}],a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;v(1).then((function(t){e.obj.data=t.data,e.obj.total=t.pageSize,t.data.forEach((function(e){e.key=e._id})),e.setState({data:t.data,total:t.pageSize})}))}},{key:"render",value:function(){return Object(m.jsxs)("section",{className:"search-container",children:[Object(m.jsx)("section",{className:"search-header",children:"\u67e5\u8be2\u9500\u91cf"}),Object(m.jsx)("section",{className:"search-input",children:Object(m.jsx)(g,{size:"large",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0/\u65e5\u671f",ref:this.TableRef,onKeyUp:this.handleInput,onSearch:this.handleSearch,enterButton:!0})}),Object(m.jsx)("section",{className:"search-data",children:Object(m.jsx)(h.a,{pagination:{defaultCurrent:1,defaultPageSize:8,hideOnSinglePage:!0,responsive:!0,total:this.state.total,onChange:this.handlePageNum,current:this.state.current},columns:this.columns,dataSource:this.state.data})})]})}}]),n}(d.Component)}}]);
//# sourceMappingURL=13.884d2329.chunk.js.map