(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[17],{406:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),c=n(2),r=n(4),o=n(0),l=n(6),s=n.n(l),i=n(33),u=n(59);function d(e){var t=e.className,n=e.direction,r=e.index,l=e.marginDirection,s=e.children,i=e.split,u=e.wrap,d=o.useContext(b),p=d.horizontalSize,m=d.verticalSize,f=d.latestIndex,h={};return d.supportFlexGap||("vertical"===n?r<f&&(h={marginBottom:p/(i?2:1)}):h=Object(a.a)(Object(a.a)({},r<f&&Object(c.a)({},l,p/(i?2:1))),u&&{paddingBottom:m})),null===s||void 0===s?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:h},s),r<f&&i&&o.createElement("span",{className:"".concat(t,"-split"),style:h},i))}var p=n(166),m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},b=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),f={small:8,middle:16,large:24};t.b=function(e){var t,n=o.useContext(u.b),l=n.getPrefixCls,h=n.space,j=n.direction,v=e.size,O=void 0===v?(null===h||void 0===h?void 0:h.size)||"small":v,y=e.align,x=e.className,g=e.children,S=e.direction,C=void 0===S?"horizontal":S,E=e.prefixCls,k=e.split,w=e.style,N=e.wrap,I=void 0!==N&&N,z=m(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),P=Object(p.a)(),D=o.useMemo((function(){return(Array.isArray(O)?O:[O,O]).map((function(e){return function(e){return"string"===typeof e?f[e]:e||0}(e)}))}),[O]),T=Object(r.a)(D,2),R=T[0],L=T[1],B=Object(i.a)(g,{keepEmpty:!0}),F=void 0===y&&"horizontal"===C?"center":y,M=l("space",E),G=s()(M,"".concat(M,"-").concat(C),(t={},Object(c.a)(t,"".concat(M,"-rtl"),"rtl"===j),Object(c.a)(t,"".concat(M,"-align-").concat(F),F),t),x),V="".concat(M,"-item"),A="rtl"===j?"marginLeft":"marginRight",K=0,J=B.map((function(e,t){return null!==e&&void 0!==e&&(K=t),o.createElement(d,{className:V,key:"".concat(V,"-").concat(t),direction:C,index:t,marginDirection:A,split:k,wrap:I},e)})),W=o.useMemo((function(){return{horizontalSize:R,verticalSize:L,latestIndex:K,supportFlexGap:P}}),[R,L,K,P]);if(0===B.length)return null;var _={};return I&&(_.flexWrap="wrap",P||(_.marginBottom=-L)),P&&(_.columnGap=R,_.rowGap=L),o.createElement("div",Object(a.a)({className:G,style:Object(a.a)(Object(a.a)({},_),w)},z),o.createElement(b.Provider,{value:W},J))}},467:function(e,t,n){"use strict";var a=n(1),c=n(4),r=n(0),o=n(6),l=n.n(o),s=n(35),i=n(107),u=n(22),d=n(75),p=n(46),m=n(77),b=n(52),f=n(60),h=n(59),j=n(147),v=n(13),O=n(42),y=void 0,x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},g=r.forwardRef((function(e,t){var n=Object(s.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),o=Object(c.a)(n,2),i=o[0],g=o[1],S=function(t,n){var a;g(t),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n)},C=function(t){var n;S(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(y,t)},E=function(t){var n;S(!1,t),null===(n=e.onCancel)||void 0===n||n.call(y,t)},k=r.useContext(h.b).getPrefixCls,w=e.prefixCls,N=e.placement,I=e.children,z=e.overlayClassName,P=x(e,["prefixCls","placement","children","overlayClassName"]),D=k("popover",w),T=k("popconfirm",w),R=l()(T,z),L=r.createElement(b.a,{componentName:"Popconfirm",defaultLocale:f.a.Popconfirm},(function(t){return function(t,n){var c=e.okButtonProps,o=e.cancelButtonProps,l=e.title,s=e.cancelText,i=e.okText,u=e.okType,d=e.icon;return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},d,r.createElement("div",{className:"".concat(t,"-message-title")},Object(j.a)(l))),r.createElement("div",{className:"".concat(t,"-buttons")},r.createElement(p.a,Object(a.a)({onClick:E,size:"small"},o),s||n.cancelText),r.createElement(p.a,Object(a.a)({onClick:C},Object(m.a)(u),{size:"small"},c),i||n.okText)))}(D,t)})),B=k();return r.createElement(d.a,Object(a.a)({},P,{prefixCls:D,placement:N,onVisibleChange:function(t){e.disabled||S(t)},visible:i,overlay:L,overlayClassName:R,ref:t,transitionName:Object(O.b)(B,"zoom-big",e.transitionName)}),Object(v.a)(I,{onKeyDown:function(e){var t,n;r.isValidElement(I)&&(null===(n=null===I||void 0===I?void 0:(t=I.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===u.a.ESC&&i&&S(!1,e)}(e)}}))}));g.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:r.createElement(i.a,null),disabled:!1},t.a=g},474:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(2),c=n(4),r=n(9),o=n(0),l=n(6),s=n.n(l),i=n(33),u=n(53),d=n(19),p=n(59),m=n(1);function b(e){return void 0!==e&&null!==e}var f=function(e){var t,n=e.itemPrefixCls,c=e.component,r=e.span,l=e.className,i=e.style,u=e.labelStyle,d=e.contentStyle,p=e.bordered,m=e.label,f=e.content,h=e.colon,j=c;return p?o.createElement(j,{className:s()((t={},Object(a.a)(t,"".concat(n,"-item-label"),b(m)),Object(a.a)(t,"".concat(n,"-item-content"),b(f)),t),l),style:i,colSpan:r},b(m)&&o.createElement("span",{style:u},m),b(f)&&o.createElement("span",{style:d},f)):o.createElement(j,{className:s()("".concat(n,"-item"),l),style:i,colSpan:r},o.createElement("div",{className:"".concat(n,"-item-container")},m&&o.createElement("span",{className:s()("".concat(n,"-item-label"),Object(a.a)({},"".concat(n,"-item-no-colon"),!h)),style:u},m),f&&o.createElement("span",{className:s()("".concat(n,"-item-content")),style:d},f)))};function h(e,t,n){var a=t.colon,c=t.prefixCls,r=t.bordered,l=n.component,s=n.type,i=n.showLabel,u=n.showContent,d=n.labelStyle,p=n.contentStyle;return e.map((function(e,t){var n=e.props,b=n.label,h=n.children,j=n.prefixCls,v=void 0===j?c:j,O=n.className,y=n.style,x=n.labelStyle,g=n.contentStyle,S=n.span,C=void 0===S?1:S,E=e.key;return"string"===typeof l?o.createElement(f,{key:"".concat(s,"-").concat(E||t),className:O,style:y,labelStyle:Object(m.a)(Object(m.a)({},d),x),contentStyle:Object(m.a)(Object(m.a)({},p),g),span:C,colon:a,component:l,itemPrefixCls:v,bordered:r,label:i?b:null,content:u?h:null}):[o.createElement(f,{key:"label-".concat(E||t),className:O,style:Object(m.a)(Object(m.a)(Object(m.a)({},d),y),x),span:1,colon:a,component:l[0],itemPrefixCls:v,bordered:r,label:b}),o.createElement(f,{key:"content-".concat(E||t),className:O,style:Object(m.a)(Object(m.a)(Object(m.a)({},p),y),g),span:2*C-1,component:l[1],itemPrefixCls:v,bordered:r,content:h})]}))}var j=function(e){var t=o.useContext(y),n=e.prefixCls,a=e.vertical,c=e.row,r=e.index,l=e.bordered;return a?o.createElement(o.Fragment,null,o.createElement("tr",{key:"label-".concat(r),className:"".concat(n,"-row")},h(c,e,Object(m.a)({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:"content-".concat(r),className:"".concat(n,"-row")},h(c,e,Object(m.a)({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:r,className:"".concat(n,"-row")},h(c,e,Object(m.a)({component:l?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},v=function(e){return e.children},O=n(13),y=o.createContext({}),x={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function g(e,t,n){var a=e;return(void 0===t||t>n)&&(a=Object(O.a)(e,{span:n}),Object(d.a)(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),a}function S(e){var t,n=e.prefixCls,l=e.title,d=e.extra,m=e.column,b=void 0===m?x:m,f=e.colon,h=void 0===f||f,v=e.bordered,O=e.layout,S=e.children,C=e.className,E=e.style,k=e.size,w=e.labelStyle,N=e.contentStyle,I=o.useContext(p.b),z=I.getPrefixCls,P=I.direction,D=z("descriptions",n),T=o.useState({}),R=Object(c.a)(T,2),L=R[0],B=R[1],F=function(e,t){if("number"===typeof e)return e;if("object"===Object(r.a)(e))for(var n=0;n<u.b.length;n++){var a=u.b[n];if(t[a]&&void 0!==e[a])return e[a]||x[a]}return 3}(b,L);o.useEffect((function(){var e=u.a.subscribe((function(e){"object"===Object(r.a)(b)&&B(e)}));return function(){u.a.unsubscribe(e)}}),[]);var M=function(e,t){var n=Object(i.a)(e).filter((function(e){return e})),a=[],c=[],r=t;return n.forEach((function(e,o){var l,s=null===(l=e.props)||void 0===l?void 0:l.span,i=s||1;if(o===n.length-1)return c.push(g(e,s,r)),void a.push(c);i<r?(r-=i,c.push(e)):(c.push(g(e,i,r)),a.push(c),r=t,c=[])})),a}(S,F);return o.createElement(y.Provider,{value:{labelStyle:w,contentStyle:N}},o.createElement("div",{className:s()(D,(t={},Object(a.a)(t,"".concat(D,"-").concat(k),k&&"default"!==k),Object(a.a)(t,"".concat(D,"-bordered"),!!v),Object(a.a)(t,"".concat(D,"-rtl"),"rtl"===P),t),C),style:E},(l||d)&&o.createElement("div",{className:"".concat(D,"-header")},l&&o.createElement("div",{className:"".concat(D,"-title")},l),d&&o.createElement("div",{className:"".concat(D,"-extra")},d)),o.createElement("div",{className:"".concat(D,"-view")},o.createElement("table",null,o.createElement("tbody",null,M.map((function(e,t){return o.createElement(j,{key:t,index:t,colon:h,prefixCls:D,vertical:"vertical"===O,bordered:v,row:e})})))))))}S.Item=v;t.b=S},550:function(e,t,n){"use strict";var a=n(48),c=n(49),r=n(51),o=n(50),l=n(0),s=n(34),i=n.n(s),u=n(64),d=n(474),p=n(41),m=n(3),b=p.a.getOrderById,f=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).handlegetData=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:n=e.sent,console.log(n),n.data[0]&&c.setState({info:n.data[0]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state={info:{orderTotal:0,orderMax:0,orderSum:0,orderAvg:0}},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.handlegetData(this.props.record.userId)}},{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.b,{className:"descript-container",al:!0,title:"",size:"small",children:this.props.children?this.props.children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.b.Item,{label:"\u9500\u552e\u5355\u6570",children:this.state.info.orderTotal}),Object(m.jsx)(d.b.Item,{label:"\u6700\u9ad8\u9500\u91cf",children:this.state.info.orderMax}),Object(m.jsx)(d.b.Item,{label:"\u6708\u5e73\u5747\u9500\u91cf",children:Math.floor(this.state.info.orderAvg)}),Object(m.jsx)(d.b.Item,{label:"\u603b\u9500\u552e\u989d",children:this.state.info.orderSum})]})})})}}]),n}(l.PureComponent),h=n(467),j=n(46),v=n(406),O=n(975),y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).handleDismissal=function(e){console.log(e)},c.handleSuspension=function(e){console.log(e)},c.handleRecover=function(e){console.log(e)},console.log(e),c.columns=[{title:"\u5de5\u53f7",dataIndex:"userId",key:"userId"},{title:"\u59d3\u540d",dataIndex:"username",key:"username"},{title:"\u7535\u8bdd",dataIndex:"age",key:"age"},{title:"\u5bb6\u5ead\u4f4f\u5740",dataIndex:"address",key:"address"},{title:"\u6027\u522b",dataIndex:"sex",key:"sex"},{title:"\u5165\u804c\u65f6\u95f4",dataIndex:"joinTime",key:"joinTime"},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e){var t=e.status,n=function(){return Object(m.jsx)(h.a,{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onConfirm:function(){return c.props.handleDismissal(e)},title:"\u4e00\u65e6\u89e3\u96c7\u65e0\u6cd5\u6062\u590d,\u786e\u5b9a\u89e3\u96c7\u6b64\u4eba",children:Object(m.jsx)(j.a,{type:"danger",children:"\u89e3\u96c7"})})};return t>=0?Object(m.jsxs)(v.b,{children:[Object(m.jsx)(j.a,{onClick:function(){return c.props.handleSuspension(e)},children:"\u505c\u804c"}),Object(m.jsx)(n,{})]}):-1===t?Object(m.jsxs)(v.b,{children:[Object(m.jsx)(j.a,{type:"primary",onClick:function(){return c.props.handleRecover(e)},children:"\u6062\u590d"}),Object(m.jsx)(n,{})]}):"\u5df2\u89e3\u96c7..."}}],c.columns.forEach((function(e){e.align="center"})),c}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsx)("section",{children:Object(m.jsx)(O.a,{columns:this.columns,pagination:{total:this.props.total,pageSize:this.props.pageSize?this.props.pageSize:8,onChange:function(t){return e.props.page(t)}},expandable:{expandedRowRender:function(e){return Object(m.jsx)(f,{record:e})},rowExpandable:function(e){return-2!==e.status}},dataSource:this.props.data})})}}]),n}(l.Component);t.a=y},933:function(e,t,n){},968:function(e,t,n){"use strict";n.r(t);var a=n(34),c=n.n(a),r=n(64),o=n(48),l=n(49),s=n(51),i=n(50),u=n(0),d=(n(933),n(363)),p=n(550),m=n(41),b=n(31),f=n(3),h=m.a.findStaffBySearch,j=m.a.handleSuspend,v=m.a.handleKick,O=m.a.handleRecover,y=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleDismissal=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.userId);case 2:"200"===(n=e.sent).code?(Object(b.a)("\u5df2\u89e3\u96c7","success"),a.handleLocalChange(t.userId,-2)):Object(b.a)(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSuspension=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.userId);case 2:"200"===(n=e.sent).code?(Object(b.a)("\u5df2\u505c\u804c","success"),a.handleLocalChange(t.userId,-1)):Object(b.a)(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRecover=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.userId);case 2:"200"===(n=e.sent).code?(Object(b.a)("\u5df2\u6062\u590d","success"),a.handleLocalChange(t.userId,1)):Object(b.a)(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleLocalChange=function(e,t){var n=a.state.listData;n.find((function(t){return t.userId===e})).status=t,a.setState({listData:n})},a.onSearch=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({content:t}),a.handleSearch(1,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handlePageNum=function(e){a.handleSearch(e,a.state.content)},a.handleSearch=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n,t);case 2:(r=e.sent).data?(r.data.forEach((function(e){e.key=e._id})),Object(b.a)("\u627e\u5230".concat(r.pageSize,"\u6761\u7ed3\u679c"),"success"),a.setState({listData:r.data,total:r.pageSize})):(Object(b.a)("\u6ca1\u6709\u627e\u5230\u76f8\u5173\u7684\u7528\u6237"),a.setState({listData:[]}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={listData:[],content:"",total:0},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("section",{className:"search-container",children:[Object(f.jsx)("section",{className:"search-header",children:Object(f.jsx)("section",{className:"search",children:Object(f.jsx)(d.a.Search,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u59d3\u540d",size:"large",onSearch:this.onSearch,enterButton:!0})})}),Object(f.jsx)("section",{className:"search-mainer",children:Object(f.jsx)(p.a,{handleDismissal:this.handleDismissal,handleRecover:this.handleRecover,handleSuspension:this.handleSuspension,data:this.state.listData,page:this.handlePageNum,total:this.state.total,pageSize:7})})]})}}]),n}(u.Component);t.default=y}}]);
//# sourceMappingURL=17.a5e5b586.chunk.js.map