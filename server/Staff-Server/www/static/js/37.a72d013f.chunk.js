(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[37],{467:function(e,t,n){"use strict";var a=n(1),c=n(4),r=n(0),i=n(6),o=n.n(i),s=n(36),u=n(107),l=n(23),d=n(75),f=n(46),p=n(77),b=n(53),m=n(61),j=n(60),O=n(148),v=n(13),x=n(42),h=void 0,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},k=r.forwardRef((function(e,t){var n=Object(s.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),i=Object(c.a)(n,2),u=i[0],k=i[1],w=function(t,n){var a;k(t),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n)},g=function(t){var n;w(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(h,t)},C=function(t){var n;w(!1,t),null===(n=e.onCancel)||void 0===n||n.call(h,t)},I=r.useContext(j.b).getPrefixCls,E=e.prefixCls,S=e.placement,T=e.children,N=e.overlayClassName,P=y(e,["prefixCls","placement","children","overlayClassName"]),z=I("popover",E),V=I("popconfirm",E),R=o()(V,N),B=r.createElement(b.a,{componentName:"Popconfirm",defaultLocale:m.a.Popconfirm},(function(t){return function(t,n){var c=e.okButtonProps,i=e.cancelButtonProps,o=e.title,s=e.cancelText,u=e.okText,l=e.okType,d=e.icon;return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},d,r.createElement("div",{className:"".concat(t,"-message-title")},Object(O.a)(o))),r.createElement("div",{className:"".concat(t,"-buttons")},r.createElement(f.a,Object(a.a)({onClick:C,size:"small"},i),s||n.cancelText),r.createElement(f.a,Object(a.a)({onClick:g},Object(p.a)(l),{size:"small"},c),u||n.okText)))}(z,t)})),D=I();return r.createElement(d.a,Object(a.a)({},P,{prefixCls:z,placement:S,onVisibleChange:function(t){e.disabled||w(t)},visible:u,overlay:B,overlayClassName:R,ref:t,transitionName:Object(x.b)(D,"zoom-big",e.transitionName)}),Object(v.a)(T,{onKeyDown:function(e){var t,n;r.isValidElement(T)&&(null===(n=null===T||void 0===T?void 0:(t=T.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===l.a.ESC&&u&&w(!1,e)}(e)}}))}));k.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:r.createElement(u.a,null),disabled:!1},t.a=k},974:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var a=n(108),c=n(28),r=n.n(c),i=n(48),o=n(76),s=n(0),u=n(373),l=n(46),d=n(467),f=n(975),p=n(18),b=n(35),m=n(33),j=n(20),O=n(3),v=b.a.findAllAminInfo,x=b.a.handleFreezeStatus,h=b.a.handleRecoverStatus,y=b.a.handleDeleteStatus,k=b.a.handleReset;function w(){var e=[{title:"\u8d26\u53f7",dataIndex:"adminId",key:"userId"},{title:"\u59d3\u540d",dataIndex:"name",key:"username"},{title:"\u7535\u8bdd",dataIndex:"phone",key:"phone"},{title:"\u804c\u4f4d",dataIndex:"position",key:"address"},{title:"\u6743\u9650",dataIndex:"",key:"power",render:function(e){return"1"===e.power?"\u9ad8\u7ea7\u7ba1\u7406\u5458":"\u666e\u901a\u7ba1\u7406\u5458"}},{title:"\u72b6\u6001",dataIndex:"",key:"address",render:function(e){return"1"===e.status||"0"===e.status?"\u6b63\u5e38":"-1"===e.status?"\u5df2\u51bb\u7ed3":"-2"===e.status?"\u5df2\u5220\u9664":void 0}},{title:"\u64cd\u4f5c",key:"x",render:function(e){var t,n=function(){return Object(O.jsxs)(u.b,{children:[Object(O.jsx)(l.a,{onClick:function(){return T(e)},children:"\u51bb\u7ed3"}),Object(O.jsx)(d.a,{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",title:"\u4e00\u65e6\u5220\u9664\u65e0\u6cd5\u6062\u590d,\u662f\u5426\u5220\u9664",onOk:function(){return P(e)},children:Object(O.jsx)(l.a,{type:"danger",children:"\u5220\u9664"})})]})};switch(e.status){case"1":t=Object(O.jsxs)(u.b,{children:[Object(O.jsx)(l.a,{onClick:function(){return function(e){return z.apply(this,arguments)}(e)},type:"primary",children:"\u91cd\u7f6e"}),Object(O.jsx)(n,{})]});break;case"0":t=Object(O.jsx)(n,{});break;case"-1":t=Object(O.jsxs)(u.b,{children:[Object(O.jsx)(l.a,{onClick:function(){return N(e)},type:"primary",children:"\u6062\u590d"}),Object(O.jsx)(d.a,{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",title:"\u4e00\u65e6\u5220\u9664\u65e0\u6cd5\u6062\u590d,\u662f\u5426\u5220\u9664",onOk:function(){return P(e)},children:Object(O.jsx)(l.a,{type:"danger",children:"\u5220\u9664"})})]});break;default:t="\u5df2\u5220\u9664"}return t}}];e.forEach((function(e){e.align="center"}));var t=Object(p.e)(),n=Object(s.useState)([]),c=Object(o.a)(n,2),b=c[0],w=c[1],g=Object(s.useState)(0),C=Object(o.a)(g,2),I=C[0],E=C[1],S=Object(s.useRef)();S.current=b;var T=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.adminId);case 2:"200"===e.sent.code&&(Object(m.a)("\u51bb\u7ed3\u6210\u529f","success"),B(t.adminId,"-1"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t.adminId);case 2:"200"===e.sent.code&&(Object(m.a)("\u6062\u590d\u6210\u529f","success"),B(t.adminId,"1"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.adminId);case 2:"200"===e.sent.code&&(Object(m.a)("\u5220\u9664\u6210\u529f","success"),B(t.adminId,"-2"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(){return(z=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t.adminId);case 2:"200"===e.sent.code&&(Object(m.a)("\u91cd\u7f6e\u6210\u529f","success"),B(t.adminId,"0"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:(n=e.sent).data&&(n.data.forEach((function(e){e.key=e._id})),w(n.data),E(n.pageSize));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){var n=Object(a.a)(b);n.find((function(t){return t.adminId===e})).status=t,w(n)}return Object(s.useEffect)((function(){"2"!==j.a.getState().admin.power?(Object(m.a)("\u6ca1\u6709\u6743\u9650"),setTimeout((function(){t.goBack()}),2e3)):V(1)}),[S]),Object(O.jsx)("div",{children:Object(O.jsx)(f.a,{columns:e,pagination:{total:I,pageSize:8,onChange:function(e){return V(e)}},dataSource:b})})}}}]);
//# sourceMappingURL=37.a72d013f.chunk.js.map