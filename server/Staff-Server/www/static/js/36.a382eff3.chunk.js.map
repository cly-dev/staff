{"version":3,"sources":["pages/Staff/ChangeInfo/changeInfo.jsx"],"names":["Option","Select","modicInfo","Staff","changeInfo","handleRefs","value","a","result","code","message","Store","dispatch","userSave","data","props","history","push","className","initialValues","getState","onFinish","this","ref","size","labelCol","span","wrapperCol","Item","label","name","rules","required","placeholder","type","max","min","pattern","onClick","submit","Component"],"mappings":"sUAOQA,EAAWC,IAAXD,OACAE,EAAcC,IAAdD,UACaE,E,4MACnBC,W,uCAAa,WAAOC,GAAP,eAAAC,EAAA,sEACUL,EAAUI,GADpB,OAES,SADdE,EADK,QAEAC,OACTC,YAAQ,2BAAQ,WAChBC,IAAMC,SAASC,YAASL,EAAOM,OAC/B,EAAKC,MAAMC,QAAQC,KAAK,oBALf,2C,kGASb,WAAU,IAAD,OACP,OAEE,cADA,CACA,WAASC,UAAU,wBAAnB,UACE,yBAASA,UAAU,oBAAnB,sCACA,yBAASA,UAAU,oBAAnB,SACE,eAAC,IAAD,CACEC,cAAeR,IAAMS,WAAN,KACfC,SAAUC,KAAKjB,WACfkB,IAAK,SAACnB,GAAD,OAAiB,EAAKA,WAAaA,GACxCoB,KAAK,QACLC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,GANtB,UAQE,cAAC,IAAKE,KAAN,CACEC,MAAM,eACNC,KAAK,WACLC,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,yCANf,SAUE,cAAC,IAAD,CAAOuB,YAAY,qCAErB,cAAC,IAAKL,KAAN,CACEC,MAAM,eACNC,KAAK,MACLC,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,wCAEX,CACEwB,KAAM,SACNC,IAAK,IACLC,IAAK,GACL1B,QAAS,2DAZf,SAgBE,cAAC,IAAD,CACEwB,KAAK,SACLE,IAAK,GACLD,IAAK,IACLF,YAAY,qCAGhB,cAAC,IAAKL,KAAN,CACEC,MAAM,eACNC,KAAK,QACLC,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,wCAEX,CACEwB,KAAM,SACNG,QACE,yEACF3B,QAAS,yCAZf,SAgBE,cAAC,IAAD,CAAOuB,YAAY,qCAErB,cAAC,IAAKL,KAAN,CACEC,MAAM,eACNC,KAAK,QACLC,MAAO,CACL,CACEG,KAAM,QACNxB,QAAS,wCAEX,CACEsB,UAAU,EACVtB,QAAS,yCAVf,SAcE,cAAC,IAAD,CAAOwB,KAAK,QAAQD,YAAY,qCAElC,cAAC,IAAKL,KAAN,CACEC,MAAM,eACNC,KAAK,MACLC,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,yCANf,SAUE,eAAC,IAAD,WACE,cAACV,EAAD,CAAQM,MAAM,SAAd,oBACA,cAACN,EAAD,CAAQM,MAAM,SAAd,yBAIJ,cAAC,IAAKsB,KAAN,CACEE,KAAK,UACLD,MAAM,eACNE,MAAO,CACL,CACEC,UAAU,EACVtB,QAAS,yCANf,SAUE,cAAC,IAAD,CAAOuB,YAAY,0CAIzB,yBAASf,UAAU,oBAAnB,SACE,cAAC,IAAD,CACEgB,KAAK,UACLV,KAAK,QACLN,UAAU,WACVoB,QAAS,kBAAM,EAAKlC,WAAWmC,UAJjC,mC,GA5H8BC","file":"static/js/36.a382eff3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Input, Select, Button, InputNumber } from \"antd\";\r\nimport Store from \"../../../redux/store\";\r\nimport { Staff } from \"../../../axios\";\r\nimport message from \"../../../api/message\";\r\nimport { userSave } from \"../../../redux/action/user\";\r\nimport \"./changeInfo.scss\";\r\nconst { Option } = Select;\r\nconst { modicInfo } = Staff;\r\nexport default class changeInfo extends Component {\r\n  handleRefs = async (value) => {\r\n    const result = await modicInfo(value);\r\n    if (result.code === \"200\") {\r\n      message(\"修改成功\", \"success\");\r\n      Store.dispatch(userSave(result.data));\r\n      this.props.history.push(\"/index/userInfo\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      //修改信息\r\n      <section className=\"chanegeInfo-container\">\r\n        <section className=\"changeInfo-header\">修改信息</section>\r\n        <section className=\"changeInfo-mainer\">\r\n          <Form\r\n            initialValues={Store.getState()[\"user\"]}\r\n            onFinish={this.handleRefs}\r\n            ref={(changeInfo) => (this.changeInfo = changeInfo)}\r\n            size=\"large\"\r\n            labelCol={{ span: 8 }}\r\n            wrapperCol={{ span: 8 }}\r\n          >\r\n            <Form.Item\r\n              label=\"姓名\"\r\n              name=\"username\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"姓名不能为空\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"请输入姓名\"></Input>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"年龄\"\r\n              name=\"age\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"年龄不能为空\",\r\n                },\r\n                {\r\n                  type: \"number\",\r\n                  max: 150,\r\n                  min: 10,\r\n                  message: \"年龄在指定范围之内\",\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber\r\n                type=\"number\"\r\n                min={16}\r\n                max={150}\r\n                placeholder=\"请输入年龄\"\r\n              ></InputNumber>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"电话\"\r\n              name=\"phone\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"电话不能为空\",\r\n                },\r\n                {\r\n                  type: \"regexp\",\r\n                  pattern:\r\n                    /^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/,\r\n                  message: \"手机格式错误\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"请输入电话\"></Input>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"邮箱\"\r\n              name=\"email\"\r\n              rules={[\r\n                {\r\n                  type: \"email\",\r\n                  message: \"邮箱格式错误\",\r\n                },\r\n                {\r\n                  required: true,\r\n                  message: \"邮箱不能为空\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input type=\"email\" placeholder=\"请输入邮箱\"></Input>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"性别\"\r\n              name=\"sex\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"性别不能为空\",\r\n                },\r\n              ]}\r\n            >\r\n              <Select>\r\n                <Option value=\"男\">男</Option>\r\n                <Option value=\"女\">女</Option>\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"address\"\r\n              label=\"籍贯\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"籍贯不能为空\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"请输入籍贯\"></Input>\r\n            </Form.Item>\r\n          </Form>\r\n        </section>\r\n        <section className=\"changeInfo-footer\">\r\n          <Button\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            className=\"refs-btn\"\r\n            onClick={() => this.changeInfo.submit()}\r\n          >\r\n            提交\r\n          </Button>\r\n        </section>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}