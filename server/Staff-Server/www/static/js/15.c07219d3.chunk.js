(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[15],{502:function(t,e,a){},883:function(t,e,a){},925:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return N}));var n=a(409),c=a(33),s=a.n(c),r=a(63),i=a(46),o=a(47),l=a(49),u=a(48),d=a(0),b=a.n(d),h=a(961),j=a(957),f=a(421),p=a(45),O=a(40),m=a(32),x=(a(502),a(883),a(3)),v=O.b.getNotice,g=O.b.readNotice,y=O.b.topNotice,N=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var c;return Object(i.a)(this,a),(c=e.call(this,t)).handleTop=function(){var t=Object(r.a)(s.a.mark((function t(e){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.state.listData,t.next=3,y(a[e]._id);case 3:n=t.sent,console.log(a[e]._id),"200"===n.code?(Object(m.a)("\u7f6e\u9876\u6210\u529f"),window.location.reload()):Object(m.a)(n.msg);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.handleRead=function(){var t=Object(r.a)(s.a.mark((function t(e,a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.state.listData,console.log(e),t.next=4,g(e._id);case 4:r=t.sent,console.log(r),"200"===r.code?(n[a].status="1",Object(m.a)("\u8bfb\u53d6\u6210\u529f","success"),c.setState({listData:n})):Object(m.a)(r.msg);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),c.handleGetNotice=function(){var t=Object(r.a)(s.a.mark((function t(e){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=c.state.listData).length=0,t.next=4,v(e);case 4:r=t.sent,console.log(r),r.data&&(r.data.forEach((function(t){Array.isArray(t.resource)&&(t.resource=t.resource[0]),a.push(Object(n.a)(Object(n.a)(Object(n.a)({},t),t.admin),t.notice))})),c.setState({listData:a,total:r.pageSize}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.state={listData:[],total:0},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleGetNotice(1)}},{key:"render",value:function(){var t=this;return Object(x.jsx)("section",{className:"OldNotice-container",children:Object(x.jsxs)("section",{className:"OldNotice-mainer",children:[Object(x.jsx)(h.b,{locale:{emptyText:"\u6682\u65e0\u901a\u77e5"},itemLayout:"horizontal",size:"large",pagination:{total:this.state.total,onChange:function(e){t.handleGetNotice(e)},pageSize:5},dataSource:this.state.listData,renderItem:function(e,a){return Object(x.jsxs)(h.b.Item,{children:[Object(x.jsx)(h.b.Item.Meta,{avatar:Object(x.jsx)(j.a,{src:e.imgPath}),title:e.title,description:Object(x.jsxs)(f.b,{children:[e.name,e.position,Object(x.jsx)("span",{style:{color:"black"},children:e.createTime})]})}),e.content,Object(x.jsx)("section",{className:"btn-container",children:Object(x.jsxs)(f.b,{style:{float:"right"},children:[Object(x.jsxs)(p.a,{disabled:2===e.status,onClick:function(){return t.handleTop(a)},children:[2===e.status?"\u5df2":"","\u7f6e\u9876"]}),Object(x.jsxs)(p.a,{type:"primary",disabled:e.status>0,onClick:function(){return t.handleRead(e,a)},children:[0===e.status?"\u672a":"\u5df2","\u8bfb"]})]})})]},e._id)}}),","]})})}}]),a}(b.a.Component)}}]);
//# sourceMappingURL=15.c07219d3.chunk.js.map