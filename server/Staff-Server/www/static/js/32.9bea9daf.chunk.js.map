{"version":3,"sources":["pages/Admin/ChangeInfo/changeInfo.jsx"],"names":["handleChangeInfo","Admin","Option","Select","changeInfo","props","handleRefs","value","a","result","code","message","Store","dispatch","adminSave","data","history","push","className","initialValues","getState","onFinish","size","Item","label","name","rules","required","placeholder","type","max","min","pattern","style","textAlign","htmlType"],"mappings":"sSAOOA,EAAkBC,IAAlBD,iBACCE,EAAWC,IAAXD,OAEO,SAASE,EAAWC,GAC/B,IAAMC,EAAU,uCAAC,WAAMC,GAAN,eAAAC,EAAA,sEACMR,EAAiBO,GADvB,OAEI,SADXE,EADO,QAEHC,OACNC,YAAQ,2BAAO,WACfC,IAAMC,SAASC,YAAUL,EAAOM,OAChCV,EAAMW,QAAQC,KAAK,0CALV,2CAAD,sDAQhB,OACI,yBAASC,UAAU,4BAAnB,SACM,eAAC,IAAD,CACQC,cAAeP,IAAMQ,WAAN,MACfC,SAAUf,EACVgB,KAAK,QAHb,UAKU,cAAC,IAAKC,KAAN,CACIC,MAAM,eACNC,KAAK,OACLC,MAAO,CAAC,CACJC,UAAS,EACThB,QAAQ,yCALhB,SAQI,cAAC,IAAD,CAAQiB,YAAY,qCAExB,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,MACLC,MAAO,CAAC,CACAC,UAAS,EACThB,QAAQ,wCACV,CACEkB,KAAK,SACLC,IAAI,IACJC,IAAI,GACJpB,QAAQ,2DAVpB,SAaI,cAAC,IAAD,CAAakB,KAAK,SAASE,IAAK,GAAID,IAAK,IAAMF,YAAY,qCAE/D,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,QACLC,MAAO,CACH,CACIC,UAAS,EACThB,QAAQ,wCACV,CACEkB,KAAK,SACLG,QAAQ,yEACRrB,QAAQ,yCAVpB,SAcI,cAAC,IAAD,CAAOiB,YAAY,qCAEvB,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,QAELC,MAAO,CAAC,CACJG,KAAK,QACLlB,QAAQ,wCACV,CACEgB,UAAS,EACThB,QAAQ,yCAThB,SAcI,cAAC,IAAD,CAAOkB,KAAK,QAAQD,YAAY,qCAEpC,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,MACLC,MAAO,CAAC,CACJC,UAAS,EACThB,QAAQ,yCALhB,SAQI,eAAC,IAAD,WACI,cAACT,EAAD,CAAQK,MAAM,SAAd,oBACA,cAACL,EAAD,CAAQK,MAAM,SAAd,yBAGR,cAAC,IAAKgB,KAAN,CAAWU,MAAO,CAACC,UAAU,UAA7B,SACI,cAAC,IAAD,CAAQC,SAAS,SAAjB","file":"static/js/32.9bea9daf.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Form, Input,Select,Button,InputNumber} from 'antd';\r\nimport Store from \"../../../redux/store\";\r\nimport \"./changeInfo.scss\";\r\nimport {message} from \"../../../api\";\r\nimport {adminSave} from \"../../../redux/action/admin\";\r\nimport {Admin} from \"../../../axios\";\r\nconst {handleChangeInfo}=Admin;\r\nconst { Option } = Select;\r\n\r\nexport default function changeInfo(props) {\r\n    const handleRefs=async value=>{\r\n        const result=await handleChangeInfo(value);\r\n        if(result.code==='200'){\r\n            message('修改成功','success');\r\n            Store.dispatch(adminSave(result.data));\r\n            props.history.push('/admin-index/个人信息');\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"adminChangeInfo-container\">\r\n              <Form\r\n                      initialValues={Store.getState()['admin']}\r\n                      onFinish={handleRefs}\r\n                      size=\"large\"\r\n                    >\r\n                        <Form.Item\r\n                            label=\"姓名\"\r\n                            name='name'\r\n                            rules={[{\r\n                                required:true,\r\n                                message:'姓名不能为空'\r\n                            }]}\r\n                        >\r\n                            <Input  placeholder=\"请输入姓名\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"年龄\"\r\n                            name='age'\r\n                            rules={[{\r\n                                    required:true,\r\n                                    message:'年龄不能为空'\r\n                                },{\r\n                                    type:'number',\r\n                                    max:150,\r\n                                    min:10,\r\n                                    message:'年龄在指定范围之内'\r\n                                }]}\r\n                        >\r\n                            <InputNumber type=\"number\" min={16} max={150}  placeholder=\"请输入年龄\"></InputNumber>\r\n                        </Form.Item>\r\n                        <Form.Item \r\n                            label=\"电话\"\r\n                            name='phone'\r\n                            rules={[\r\n                                {\r\n                                    required:true,\r\n                                    message:'电话不能为空'\r\n                                },{\r\n                                    type:'regexp',\r\n                                    pattern:/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/,\r\n                                    message:'手机格式错误'\r\n                                }\r\n                            ]}\r\n                            >\r\n                            <Input placeholder=\"请输入电话\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"邮箱\"\r\n                            name=\"email\"\r\n                            \r\n                            rules={[{\r\n                                type:'email',\r\n                                message:'邮箱格式错误'\r\n                            },{\r\n                                required:true,\r\n                                message:'邮箱不能为空'\r\n                            }\r\n                        \r\n                        ]}\r\n                        >\r\n                            <Input type=\"email\" placeholder=\"请输入邮箱\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"性别\"\r\n                            name=\"sex\"\r\n                            rules={[{\r\n                                required:true,\r\n                                message:\"性别不能为空\"\r\n                            }]}\r\n                        >\r\n                            <Select> \r\n                                <Option value=\"男\">男</Option>\r\n                                <Option value=\"女\">女</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item style={{textAlign:'center'}}>\r\n                            <Button htmlType=\"submit\">提交</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n        </section>\r\n    )\r\n}\r\n"],"sourceRoot":""}