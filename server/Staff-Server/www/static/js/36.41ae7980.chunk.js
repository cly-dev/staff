(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[36],{467:function(e,t,n){"use strict";var a=n(1),c=n(4),r=n(0),l=n(6),o=n.n(l),i=n(36),s=n(107),u=n(23),b=n(75),m=n(46),d=n(77),p=n(53),f=n(61),v=n(60),y=n(148),j=n(13),O=n(42),x=void 0,h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},w=r.forwardRef((function(e,t){var n=Object(i.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),l=Object(c.a)(n,2),s=l[0],w=l[1],E=function(t,n){var a;w(t),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n)},C=function(t){var n;E(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(x,t)},k=function(t){var n;E(!1,t),null===(n=e.onCancel)||void 0===n||n.call(x,t)},N=r.useContext(v.b).getPrefixCls,S=e.prefixCls,g=e.placement,P=e.children,T=e.overlayClassName,I=h(e,["prefixCls","placement","children","overlayClassName"]),z=N("popover",S),V=N("popconfirm",S),_=o()(V,T),D=r.createElement(p.a,{componentName:"Popconfirm",defaultLocale:f.a.Popconfirm},(function(t){return function(t,n){var c=e.okButtonProps,l=e.cancelButtonProps,o=e.title,i=e.cancelText,s=e.okText,u=e.okType,b=e.icon;return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},b,r.createElement("div",{className:"".concat(t,"-message-title")},Object(y.a)(o))),r.createElement("div",{className:"".concat(t,"-buttons")},r.createElement(m.a,Object(a.a)({onClick:k,size:"small"},l),i||n.cancelText),r.createElement(m.a,Object(a.a)({onClick:C},Object(d.a)(u),{size:"small"},c),s||n.okText)))}(z,t)})),L=N();return r.createElement(b.a,Object(a.a)({},I,{prefixCls:z,placement:g,onVisibleChange:function(t){e.disabled||E(t)},visible:s,overlay:D,overlayClassName:_,ref:t,transitionName:Object(O.b)(L,"zoom-big",e.transitionName)}),Object(j.a)(P,{onKeyDown:function(e){var t,n;r.isValidElement(P)&&(null===(n=null===P||void 0===P?void 0:(t=P.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===u.a.ESC&&s&&E(!1,e)}(e)}}))}));w.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:r.createElement(s.a,null),disabled:!1},t.a=w},474:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(2),c=n(4),r=n(9),l=n(0),o=n(6),i=n.n(o),s=n(29),u=n(54),b=n(19),m=n(60),d=n(1);function p(e){return void 0!==e&&null!==e}var f=function(e){var t,n=e.itemPrefixCls,c=e.component,r=e.span,o=e.className,s=e.style,u=e.labelStyle,b=e.contentStyle,m=e.bordered,d=e.label,f=e.content,v=e.colon,y=c;return m?l.createElement(y,{className:i()((t={},Object(a.a)(t,"".concat(n,"-item-label"),p(d)),Object(a.a)(t,"".concat(n,"-item-content"),p(f)),t),o),style:s,colSpan:r},p(d)&&l.createElement("span",{style:u},d),p(f)&&l.createElement("span",{style:b},f)):l.createElement(y,{className:i()("".concat(n,"-item"),o),style:s,colSpan:r},l.createElement("div",{className:"".concat(n,"-item-container")},d&&l.createElement("span",{className:i()("".concat(n,"-item-label"),Object(a.a)({},"".concat(n,"-item-no-colon"),!v)),style:u},d),f&&l.createElement("span",{className:i()("".concat(n,"-item-content")),style:b},f)))};function v(e,t,n){var a=t.colon,c=t.prefixCls,r=t.bordered,o=n.component,i=n.type,s=n.showLabel,u=n.showContent,b=n.labelStyle,m=n.contentStyle;return e.map((function(e,t){var n=e.props,p=n.label,v=n.children,y=n.prefixCls,j=void 0===y?c:y,O=n.className,x=n.style,h=n.labelStyle,w=n.contentStyle,E=n.span,C=void 0===E?1:E,k=e.key;return"string"===typeof o?l.createElement(f,{key:"".concat(i,"-").concat(k||t),className:O,style:x,labelStyle:Object(d.a)(Object(d.a)({},b),h),contentStyle:Object(d.a)(Object(d.a)({},m),w),span:C,colon:a,component:o,itemPrefixCls:j,bordered:r,label:s?p:null,content:u?v:null}):[l.createElement(f,{key:"label-".concat(k||t),className:O,style:Object(d.a)(Object(d.a)(Object(d.a)({},b),x),h),span:1,colon:a,component:o[0],itemPrefixCls:j,bordered:r,label:p}),l.createElement(f,{key:"content-".concat(k||t),className:O,style:Object(d.a)(Object(d.a)(Object(d.a)({},m),x),w),span:2*C-1,component:o[1],itemPrefixCls:j,bordered:r,content:v})]}))}var y=function(e){var t=l.useContext(x),n=e.prefixCls,a=e.vertical,c=e.row,r=e.index,o=e.bordered;return a?l.createElement(l.Fragment,null,l.createElement("tr",{key:"label-".concat(r),className:"".concat(n,"-row")},v(c,e,Object(d.a)({component:"th",type:"label",showLabel:!0},t))),l.createElement("tr",{key:"content-".concat(r),className:"".concat(n,"-row")},v(c,e,Object(d.a)({component:"td",type:"content",showContent:!0},t)))):l.createElement("tr",{key:r,className:"".concat(n,"-row")},v(c,e,Object(d.a)({component:o?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},j=function(e){return e.children},O=n(13),x=l.createContext({}),h={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function w(e,t,n){var a=e;return(void 0===t||t>n)&&(a=Object(O.a)(e,{span:n}),Object(b.a)(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),a}function E(e){var t,n=e.prefixCls,o=e.title,b=e.extra,d=e.column,p=void 0===d?h:d,f=e.colon,v=void 0===f||f,j=e.bordered,O=e.layout,E=e.children,C=e.className,k=e.style,N=e.size,S=e.labelStyle,g=e.contentStyle,P=l.useContext(m.b),T=P.getPrefixCls,I=P.direction,z=T("descriptions",n),V=l.useState({}),_=Object(c.a)(V,2),D=_[0],L=_[1],R=function(e,t){if("number"===typeof e)return e;if("object"===Object(r.a)(e))for(var n=0;n<u.b.length;n++){var a=u.b[n];if(t[a]&&void 0!==e[a])return e[a]||h[a]}return 3}(p,D);l.useEffect((function(){var e=u.a.subscribe((function(e){"object"===Object(r.a)(p)&&L(e)}));return function(){u.a.unsubscribe(e)}}),[]);var B=function(e,t){var n=Object(s.a)(e).filter((function(e){return e})),a=[],c=[],r=t;return n.forEach((function(e,l){var o,i=null===(o=e.props)||void 0===o?void 0:o.span,s=i||1;if(l===n.length-1)return c.push(w(e,i,r)),void a.push(c);s<r?(r-=s,c.push(e)):(c.push(w(e,s,r)),a.push(c),r=t,c=[])})),a}(E,R);return l.createElement(x.Provider,{value:{labelStyle:S,contentStyle:g}},l.createElement("div",{className:i()(z,(t={},Object(a.a)(t,"".concat(z,"-").concat(N),N&&"default"!==N),Object(a.a)(t,"".concat(z,"-bordered"),!!j),Object(a.a)(t,"".concat(z,"-rtl"),"rtl"===I),t),C),style:k},(o||b)&&l.createElement("div",{className:"".concat(z,"-header")},o&&l.createElement("div",{className:"".concat(z,"-title")},o),b&&l.createElement("div",{className:"".concat(z,"-extra")},b)),l.createElement("div",{className:"".concat(z,"-view")},l.createElement("table",null,l.createElement("tbody",null,B.map((function(e,t){return l.createElement(y,{key:t,index:t,colon:v,prefixCls:z,vertical:"vertical"===O,bordered:j,row:e})})))))))}E.Item=j;t.b=E},969:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var a=n(28),c=n.n(a),r=n(48),l=n(76),o=n(0),i=n(373),s=n(46),u=n(467),b=n(975),m=n(369),d=n(474),p=n(35),f=n(33),v=n(3),y=p.a.getAllNotice,j=p.a.deleteNotice,O=p.a.hasReader;function x(){var e=[{title:"\u6807\u9898",dataIndex:"title",key:"title",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}}},{title:"\u65f6\u95f4",dataIndex:"createTime",key:"time"},{title:"\u5185\u5bb9",dataIndex:"content",key:"content",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}}},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e){return Object(v.jsxs)(i.b,{children:[Object(v.jsx)(s.a,{onClick:function(){return function(e){return B.apply(this,arguments)}(e)},children:"\u67e5\u770b\u8be6\u60c5"}),Object(v.jsx)(u.a,{okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",title:"\u786e\u8ba4\u5220\u9664\u6b64\u6761\u901a\u77e5?",onConfirm:function(){return function(e){return R.apply(this,arguments)}(e)},children:Object(v.jsx)(s.a,{type:"danger",children:"\u5220\u9664"})})]})}}];e.forEach((function(e){e.align="center"}));var t=new o.useState([]),n=Object(l.a)(t,2),a=n[0],p=n[1],x=new o.useState(0),h=Object(l.a)(x,2),w=h[0],E=h[1],C=new o.useState(!1),k=Object(l.a)(C,2),N=k[0],S=k[1],g=new o.useState({}),P=Object(l.a)(g,2),T=P[0],I=P[1],z=new o.useState(0),V=Object(l.a)(z,2),_=V[0],D=V[1],L=new o.useRef;function R(){return(R=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t._id);case 2:"200"===e.sent.code&&(p(a.filter((function(e){return e._id!==t._id}))),Object(f.a)("\u5220\u9664\u6210\u529f","success"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),I(t),e.next=4,O(t._id);case 4:n=e.sent,D(n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return K.apply(this,arguments)}function K(){return(K=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:n=e.sent,console.log(n),n.data.forEach((function(e){e.key=e._id})),E(n.pageSize),p(n.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return L.current=a,new o.useEffect((function(){J(1)}),[L]),Object(v.jsxs)("section",{children:[Object(v.jsx)(b.a,{pagination:{pageSize:10,total:w,onChange:function(e){J(e)}},columns:e,dataSource:a}),Object(v.jsx)(m.a,{width:800,title:"\u67e5\u770b\u8be6\u60c5",visible:N,onCancel:function(){return S(!1)},onOk:function(){return S(!1)},cancelText:"\u9000\u51fa",okText:"\u786e\u5b9a",children:Object(v.jsxs)(d.b,{bordered:!0,children:[Object(v.jsx)(d.b.Item,{label:"\u6807\u9898",span:3,children:T.title}),Object(v.jsx)(d.b.Item,{label:"\u53d1\u5e03\u65f6\u95f4",span:3,children:T.createTime}),Object(v.jsx)(d.b.Item,{label:"\u5df2\u8bfb\u4eba\u6570",span:3,children:_}),Object(v.jsx)(d.b.Item,{label:"\u5185\u5bb9\u8be6\u60c5",span:3,children:T.content})]})})]})}}}]);
//# sourceMappingURL=36.41ae7980.chunk.js.map