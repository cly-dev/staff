{"version":3,"sources":["pages/Staff/ChangeInfo/changeInfo.jsx"],"names":["Option","Select","modicInfo","Staff","changeInfo","handleRefs","value","a","result","code","message","Store","dispatch","userSave","data","props","history","push","className","initialValues","getState","onFinish","this","ref","size","labelCol","span","wrapperCol","Item","label","name","rules","required","placeholder","type","max","min","pattern","onClick","submit","Component"],"mappings":"sUAOQA,EAAWC,IAAXD,OACDE,EAAWC,IAAXD,UACcE,E,4MACjBC,W,uCAAW,WAAMC,GAAN,eAAAC,EAAA,sEACYL,EAAUI,GADtB,OAEU,SADXE,EADC,QAEGC,OACNC,YAAQ,2BAAO,WACfC,IAAMC,SAASC,YAASL,EAAOM,OAC/B,EAAKC,MAAMC,QAAQC,KAAK,oBALrB,2C,kGAQX,WAAU,IAAD,OACL,OACI,0BAASC,UAAU,wBAAnB,UACI,yBAASA,UAAU,oBAAnB,sCAGA,yBAASA,UAAU,oBAAnB,SACI,eAAC,IAAD,CACEC,cAAeR,IAAMS,WAAN,KACfC,SAAUC,KAAKjB,WACfkB,IAAK,SAAAnB,GAAU,OAAE,EAAKA,WAAWA,GACjCoB,KAAK,QACLC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,GANtB,UAQI,cAAC,IAAKE,KAAN,CACIC,MAAM,eACNC,KAAK,WACLC,MAAO,CAAC,CACJC,UAAS,EACTtB,QAAQ,yCALhB,SAQI,cAAC,IAAD,CAAQuB,YAAY,qCAExB,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,MACLC,MAAO,CAAC,CACAC,UAAS,EACTtB,QAAQ,wCACV,CACEwB,KAAK,SACLC,IAAI,IACJC,IAAI,GACJ1B,QAAQ,2DAVpB,SAaI,cAAC,IAAD,CAAawB,KAAK,SAASE,IAAK,GAAID,IAAK,IAAMF,YAAY,qCAE/D,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,QACLC,MAAO,CACH,CACIC,UAAS,EACTtB,QAAQ,wCACV,CACEwB,KAAK,SACLG,QAAQ,yEACR3B,QAAQ,yCAVpB,SAcI,cAAC,IAAD,CAAOuB,YAAY,qCAEvB,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,QAELC,MAAO,CAAC,CACJG,KAAK,QACLxB,QAAQ,wCACV,CACEsB,UAAS,EACTtB,QAAQ,yCAThB,SAcI,cAAC,IAAD,CAAOwB,KAAK,QAAQD,YAAY,qCAEpC,cAAC,IAAKL,KAAN,CACIC,MAAM,eACNC,KAAK,MACLC,MAAO,CAAC,CACJC,UAAS,EACTtB,QAAQ,yCALhB,SAQI,eAAC,IAAD,WACI,cAACV,EAAD,CAAQM,MAAM,SAAd,oBACA,cAACN,EAAD,CAAQM,MAAM,SAAd,yBAIR,cAAC,IAAKsB,KAAN,CACIE,KAAK,UACLD,MAAM,eACNE,MAAO,CAAC,CACJC,UAAS,EACTtB,QAAQ,yCALhB,SAQI,cAAC,IAAD,CAAQuB,YAAY,0CAIhC,yBAASf,UAAU,oBAAnB,SACQ,cAAC,IAAD,CAAQgB,KAAK,UAAUV,KAAK,QAASN,UAAU,WAAWoB,QAAS,kBAAI,EAAKlC,WAAWmC,UAAvF,mC,GA5GgBC","file":"static/js/29.c1ff9f93.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Input,Select,Button,InputNumber} from 'antd';\r\nimport Store from \"../../../redux/store\";\r\nimport {Staff} from \"../../../axios\";\r\nimport message from \"../../../api/message\";\r\nimport {userSave} from \"../../../redux/action/user\"; \r\nimport \"./changeInfo.scss\";\r\nconst { Option } = Select;\r\nconst {modicInfo}=Staff\r\nexport default class changeInfo extends Component {\r\n    handleRefs=async value=>{\r\n        const result=await modicInfo(value);\r\n        if(result.code==='200'){\r\n            message('修改成功','success');\r\n            Store.dispatch(userSave(result.data));\r\n            this.props.history.push('/index/userInfo');\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <section className=\"chanegeInfo-container\">\r\n                <section className=\"changeInfo-header\">\r\n                    修改信息\r\n                </section>\r\n                <section className=\"changeInfo-mainer\">\r\n                    <Form\r\n                      initialValues={Store.getState()['user']}\r\n                      onFinish={this.handleRefs}\r\n                      ref={changeInfo=>this.changeInfo=changeInfo}\r\n                      size=\"large\"\r\n                      labelCol={{ span: 8 }}\r\n                      wrapperCol={{ span: 8}}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"姓名\"\r\n                            name='username'\r\n                            rules={[{\r\n                                required:true,\r\n                                message:'姓名不能为空'\r\n                            }]}\r\n                        >\r\n                            <Input  placeholder=\"请输入姓名\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"年龄\"\r\n                            name='age'\r\n                            rules={[{\r\n                                    required:true,\r\n                                    message:'年龄不能为空'\r\n                                },{\r\n                                    type:'number',\r\n                                    max:150,\r\n                                    min:10,\r\n                                    message:'年龄在指定范围之内'\r\n                                }]}\r\n                        >\r\n                            <InputNumber type=\"number\" min={16} max={150}  placeholder=\"请输入年龄\"></InputNumber>\r\n                        </Form.Item>\r\n                        <Form.Item \r\n                            label=\"电话\"\r\n                            name='phone'\r\n                            rules={[\r\n                                {\r\n                                    required:true,\r\n                                    message:'电话不能为空'\r\n                                },{\r\n                                    type:'regexp',\r\n                                    pattern:/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/,\r\n                                    message:'手机格式错误'\r\n                                }\r\n                            ]}\r\n                            >\r\n                            <Input placeholder=\"请输入电话\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"邮箱\"\r\n                            name=\"email\"\r\n                            \r\n                            rules={[{\r\n                                type:'email',\r\n                                message:'邮箱格式错误'\r\n                            },{\r\n                                required:true,\r\n                                message:'邮箱不能为空'\r\n                            }\r\n                        \r\n                        ]}\r\n                        >\r\n                            <Input type=\"email\" placeholder=\"请输入邮箱\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"性别\"\r\n                            name=\"sex\"\r\n                            rules={[{\r\n                                required:true,\r\n                                message:\"性别不能为空\"\r\n                            }]}\r\n                        >\r\n                            <Select> \r\n                                <Option value=\"男\">男</Option>\r\n                                <Option value=\"女\">女</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        \r\n                        <Form.Item\r\n                            name=\"address\" \r\n                            label=\"籍贯\"\r\n                            rules={[{\r\n                                required:true,\r\n                                message:'籍贯不能为空'\r\n                            }]}\r\n                        >\r\n                            <Input  placeholder=\"请输入籍贯\"></Input>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </section>\r\n                <section className=\"changeInfo-footer\">\r\n                        <Button type=\"primary\" size=\"large\"  className=\"refs-btn\" onClick={()=>this.changeInfo.submit()}>提交</Button>\r\n                </section>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}