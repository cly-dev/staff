(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[18],{396:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},401:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(396);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},466:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(401),a=r(34),c=r.n(a),s=r(64),i=r(76),o=r(0),l=r(943),u=r(41),b=r(3),f=u.b.getType,p=u.b.getList;function j(e){var t=Object(o.useState)([]),r=Object(i.a)(t,2),a=r[0],u=r[1],j=Object(o.useRef)();return j.current=a,Object(o.useEffect)((function(){localStorage.getItem("type")?u(JSON.parse(localStorage.getItem("type"))):f().then((function(e){e.data.forEach(function(){var e=Object(s.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t._id);case 2:r=e.sent,n=[],r.data.list.forEach((function(e){n.push({value:e,label:e})})),a.push({value:t.type,label:t.type,id:t._id,children:n}),u(a),localStorage.setItem("type",JSON.stringify(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j.current=a}))}),[j]),Object(b.jsx)(l.a,Object(n.a)(Object(n.a)({},e),{},{options:a,placeholder:"\u8bf7\u8f93\u5165\u7c7b\u522b"}))}},901:function(e,t,r){},953:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r(34),a=r.n(n),c=r(64),s=r(48),i=r(49),o=r(51),l=r(50),u=r(0),b=r(363),f=r(368),p=r(976),j=r(980),d=r(46),O=r(41),m=r(31),h=r(466),y=(r(901),r(3)),g=(O.b.getType,O.b.getList,O.b.addOrder),x=b.a.TextArea,v=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={timer:""},e.handleRef=Object(c.a)(a.a.mark((function t(){var r,n,c,s,i,o,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(m.a)("\u6b63\u5728\u63d0\u4ea4\u4e2d","loading"),n=e.formRef.getFieldValue(),c=n.name,s=n.num,i=n.price,o=n.type,l=n.mark,t.next=4,g({name:c,num:s,price:i,type:o,mark:l,createTime:e.state.timer});case 4:"200"===t.sent.code&&(r.destroy(),Object(m.a)("\u6dfb\u52a0\u6210\u529f","success"),e.props.history.push("/index/watchOrder"));case 6:case"end":return t.stop()}}),t)}))),e.handleTime=function(t,r){e.setState({timer:r})},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("section",{className:"addOrder-container",children:[Object(y.jsx)("section",{className:"addOrder-title",children:"\u6dfb\u52a0\u6d41\u6c34"}),Object(y.jsxs)(f.a,{onFinish:this.handleRef,ref:function(t){return e.formRef=t},labelCol:{span:2},wrapperCol:{span:13},layout:"horizontal",initialValues:{size:"large"},size:"large",children:[Object(y.jsx)(f.a.Item,{label:"\u5546\u54c1\u540d",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d"}],children:Object(y.jsx)(b.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d"})}),Object(y.jsx)(f.a.Item,{label:"\u7c7b\u522b",name:"type",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7c7b\u522b"}],children:Object(y.jsx)(h.a,{})}),Object(y.jsx)(f.a.Item,{label:"\u65f6\u95f4",name:"time",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}],children:Object(y.jsx)(p.a,{placeholder:"\u8bf7\u8f93\u5165\u65f6\u95f4",onChange:this.handleTime})}),Object(y.jsx)(f.a.Item,{label:"\u6570\u91cf",name:"num",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u91cf"}],children:Object(y.jsx)(j.a,{min:1,placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf"})}),Object(y.jsx)(f.a.Item,{label:"\u4ef7\u683c",name:"price",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}],children:Object(y.jsx)(j.a,{min:1,placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"})}),Object(y.jsx)(f.a.Item,{label:"\u5907\u6ce8",name:"mark",children:Object(y.jsx)(x,{rows:8,showCount:!0,maxLength:100,className:"textArea-input"})})]}),Object(y.jsx)("section",{className:"refs-container",children:Object(y.jsx)(d.a,{size:"large",type:"primary",className:"refs-btn",onClick:function(){return e.formRef.submit()},children:"\u63d0\u4ea4"})})]})}}]),r}(u.Component)}}]);
//# sourceMappingURL=18.5d27048b.chunk.js.map