(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[27],{885:function(e,t,a){},927:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var r=a(33),n=a.n(r),s=a(63),c=a(46),i=a(47),l=a(49),o=a(48),u=a(0),d=a(358),m=a(361),h=a(956),p=a(949),j=a(954),b=a(45),f=a(40),O=a(32),x=(a(885),a(3)),y=f.b.getType,g=f.b.getList,v=f.b.addOrder,w=d.a.TextArea,k=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={timer:"",type:[]},e.handleRef=Object(s.a)(n.a.mark((function t(){var a,r,s,c,i,l,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(O.a)("\u6b63\u5728\u63d0\u4ea4\u4e2d","loading"),r=e.formRef.getFieldValue(),s=r.name,c=r.num,i=r.price,l=r.type,o=r.mark,t.next=4,v({name:s,num:c,price:i,type:l,mark:o,createTime:e.state.timer});case 4:"200"===t.sent.code&&(a.destroy(),Object(O.a)("\u6dfb\u52a0\u6210\u529f","success"),e.props.history.push("/index/watchOrder"));case 6:case"end":return t.stop()}}),t)}))),e.handleTime=function(t,a){e.setState({timer:a})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.type;y().then((function(a){console.log(a),a.data.forEach(function(){var e=Object(s.a)(n.a.mark((function e(a){var r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(a._id);case 2:r=e.sent,s=[],r.data.list.forEach((function(e){s.push({value:e,label:e})})),t.push({value:a.type,label:a.type,id:a._id,children:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.setState({type:t})}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("section",{className:"addOrder-container",children:[Object(x.jsx)("section",{className:"addOrder-title",children:"\u6dfb\u52a0\u6d41\u6c34"}),Object(x.jsxs)(m.a,{onFinish:this.handleRef,ref:function(t){return e.formRef=t},labelCol:{span:2},wrapperCol:{span:13},layout:"horizontal",initialValues:{size:"large"},size:"large",children:[Object(x.jsx)(m.a.Item,{label:"\u5546\u54c1\u540d",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d"}],children:Object(x.jsx)(d.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d"})}),Object(x.jsx)(m.a.Item,{label:"\u7c7b\u522b",name:"type",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7c7b\u522b"}],children:Object(x.jsx)(h.a,{options:this.state.type,placeholder:"\u8bf7\u8f93\u5165\u7c7b\u522b"})}),Object(x.jsx)(m.a.Item,{label:"\u65f6\u95f4",name:"time",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4"}],children:Object(x.jsx)(p.a,{placeholder:"\u8bf7\u8f93\u5165\u65f6\u95f4",onChange:this.handleTime})}),Object(x.jsx)(m.a.Item,{label:"\u6570\u91cf",name:"num",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u91cf"}],children:Object(x.jsx)(j.a,{min:1,placeholder:"\u8bf7\u8f93\u5165\u6570\u91cf"})}),Object(x.jsx)(m.a.Item,{label:"\u4ef7\u683c",name:"price",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}],children:Object(x.jsx)(j.a,{min:1,placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c"})}),Object(x.jsx)(m.a.Item,{label:"\u5907\u6ce8",name:"mark",children:Object(x.jsx)(w,{rows:8,showCount:!0,maxLength:100,className:"textArea-input"})})]}),Object(x.jsx)("section",{className:"refs-container",children:Object(x.jsx)(b.a,{size:"large",type:"primary",className:"refs-btn",onClick:function(){return e.formRef.submit()},children:"\u63d0\u4ea4"})})]})}}]),a}(u.Component)}}]);
//# sourceMappingURL=27.0448466d.chunk.js.map