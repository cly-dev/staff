(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[13],{423:function(t,e,a){"use strict";a(0),a(424);var n=a(3);e.a=function(t){return Object(n.jsxs)("section",{className:"staff-header",children:[t.title,t.children]})}},424:function(t,e,a){},516:function(t,e,a){},899:function(t,e,a){},900:function(t,e,a){},986:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return S}));var n=a(396),c=a(401),s=a(34),i=a.n(s),r=a(64),o=a(48),l=a(49),u=a(51),d=a(50),j=a(0),b=a.n(j),h=a(945),f=a(371),O=a(406),p=a(46),x=a(634),m=(a(899),a(3));function v(t){return Object(m.jsx)(m.Fragment,{children:t.isLoading?[1,2,3,4,5].map((function(e,a){return Object(m.jsx)("section",{className:"skeleton",children:Object(m.jsx)(x.a,{avatar:t.isAvatar,active:t.isActive})},a)})):""})}var g=a(41),y=a(31),N=a(423),k=(a(516),a(900),g.b.getNotice),w=g.b.readNotice,D=g.b.topNotice,S=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleTop=function(){var t=Object(r.a)(i.a.mark((function t(e){var a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.state.listData,t.next=3,D(a[e]._id);case 3:"200"===(c=t.sent).code?(Object(y.a)("\u7f6e\u9876\u6210\u529f"),window.location.reload()):Object(y.a)(c.msg);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.handleRead=function(){var t=Object(r.a)(i.a.mark((function t(e,a){var c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.state.listData,t.next=3,w(e._id);case 3:"200"===(s=t.sent).code?(c[a].status="1",Object(y.a)("\u8bfb\u53d6\u6210\u529f","success"),n.setState({listData:c})):Object(y.a)(s.msg);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),n.handleGetNotice=function(){var t=Object(r.a)(i.a.mark((function t(e){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({loading:!0}),(a=n.state.listData).length=0,t.next=5,k(e);case 5:s=t.sent,n.setState({loading:!1}),s.data&&(s.data.forEach((function(t){Array.isArray(t.resource)&&(t.resource=t.resource[0]),a.push(Object(c.a)(Object(c.a)(Object(c.a)({},t),t.admin),t.notice))})),n.setState({listData:a,total:s.pageSize}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.state={listData:[],total:0,loading:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleGetNotice(1)}},{key:"render",value:function(){var t,e=this;return Object(m.jsxs)("section",{className:"OldNotice-container",children:[Object(m.jsx)(N.a,{title:"\u4ee5\u5f80\u901a\u77e5"}),Object(m.jsxs)("section",{className:"OldNotice-mainer",children:[Object(m.jsx)(h.b,(t={locale:{emptyText:"\u6682\u65e0\u901a\u77e5"},itemLayout:"horizontal",size:"large"},Object(n.a)(t,"locale",{emptyText:Object(m.jsx)(v,{isLoading:this.state.loading,isActive:!0,isAvatar:!0})}),Object(n.a)(t,"pagination",{total:this.state.total,onChange:function(t){e.handleGetNotice(t)},pageSize:5}),Object(n.a)(t,"dataSource",this.state.listData),Object(n.a)(t,"renderItem",(function(t,a){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(h.b.Item,{children:[Object(m.jsx)(h.b.Item.Meta,{avatar:Object(m.jsx)(f.a,{src:t.imgPath}),title:t.title,description:Object(m.jsxs)(O.b,{children:[t.name,t.position,Object(m.jsx)("span",{style:{color:"black"},children:t.createTime})]})}),t.content,t.file&&Object(m.jsxs)("section",{className:"notice-file",children:["\u76f8\u5173\u6587\u4ef6\u5730\u5740:",Object(m.jsx)("a",{href:"/api"+t.file,download:!0,children:t.title})]}),Object(m.jsx)("section",{className:"btn-container",children:Object(m.jsxs)(O.b,{style:{float:"right"},children:[Object(m.jsxs)(p.a,{disabled:2===t.status,onClick:function(){return e.handleTop(a)},children:[2===t.status?"\u5df2":"","\u7f6e\u9876"]}),Object(m.jsxs)(p.a,{type:"primary",disabled:t.status>0,onClick:function(){return e.handleRead(t,a)},children:[0===t.status?"\u672a":"\u5df2","\u8bfb"]})]})})]},t._id)})})),t)),","]})]})}}]),a}(b.a.Component)}}]);
//# sourceMappingURL=13.0297ceae.chunk.js.map