{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Category/category.jsx","pages/Staff/AddOrder/addOrder.jsx"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","getType","Staff","getList","Category","props","useState","type","setType","typeRef","useRef","current","useEffect","localStorage","getItem","JSON","parse","then","res","data","a","_id","result","children","list","label","id","setItem","stringify","options","placeholder","addOrder","TextArea","Input","AddOrder","state","timer","handleRef","loading","message","formRef","getFieldValue","name","num","price","mark","createTime","code","destroy","history","handleTime","time","setState","className","onFinish","this","ref","from","labelCol","span","wrapperCol","layout","initialValues","size","Item","rules","required","onChange","min","rows","showCount","maxLength","onClick","submit","Component"],"mappings":"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","file":"static/js/16.b16ad749.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Cascader } from \"antd\";\r\nimport { Staff } from \"../../axios\";\r\nconst { getType, getList } = Staff;\r\nexport default function Category(props) {\r\n  //设置类型\r\n  const [type, setType] = useState([]);\r\n  //设置代理\r\n  const typeRef = useRef();\r\n  typeRef.current = type;\r\n  useEffect(() => {\r\n    //获取类型\r\n    if (!localStorage.getItem(\"type\")) {\r\n      getType().then((res) => {\r\n        res.data.forEach(async (value) => {\r\n          let result = await getList(value._id);\r\n          let children = [];\r\n          result.data.list.forEach((value) => {\r\n            children.push({\r\n              value,\r\n              label: value,\r\n            });\r\n          });\r\n          type.push({\r\n            value: value.type,\r\n            label: value.type,\r\n            id: value._id,\r\n            children,\r\n          });\r\n          setType(type);\r\n          localStorage.setItem(\"type\", JSON.stringify(type));\r\n        });\r\n        typeRef.current = type;\r\n      });\r\n    } else {\r\n      setType(JSON.parse(localStorage.getItem(\"type\")));\r\n    }\r\n  }, [typeRef]);\r\n  return (\r\n    <Cascader {...props} options={type} placeholder=\"请输入类别\"></Cascader>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Input, Button, Cascader, DatePicker, InputNumber } from \"antd\";\r\nimport { Staff } from \"../../../axios\";\r\nimport { message } from \"../../../api\";\r\nimport Category from \"../../../components/Category/category\";\r\nimport \"./addOrder.scss\";\r\nconst { getType, getList, addOrder } = Staff;\r\nconst { TextArea } = Input;\r\nexport default class AddOrder extends Component {\r\n  // constructor(props){\r\n  //     super(props);\r\n  // }\r\n  state = {\r\n    //时间\r\n    timer: \"\",\r\n  };\r\n  handleRef = async () => {\r\n    const loading = message(\"正在提交中\", \"loading\");\r\n    const { name, num, price, type, mark } = this.formRef.getFieldValue();\r\n    const result = await addOrder({\r\n      name,\r\n      num,\r\n      price,\r\n      type,\r\n      mark,\r\n      createTime: this.state.timer,\r\n    });\r\n    if (result.code === \"200\") {\r\n      loading.destroy();\r\n      message(\"添加成功\", \"success\");\r\n      this.props.history.push(\"/index/watchOrder\");\r\n    }\r\n  };\r\n  handleTime = (time, timer) => {\r\n    this.setState({\r\n      timer,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <section className=\"addOrder-container\">\r\n        <section className=\"addOrder-title\">添加流水</section>\r\n        <Form\r\n          onFinish={this.handleRef}\r\n          ref={(from) => (this.formRef = from)}\r\n          labelCol={{\r\n            span: 2,\r\n          }}\r\n          wrapperCol={{\r\n            span: 13,\r\n          }}\r\n          layout=\"horizontal\"\r\n          initialValues={{\r\n            size: \"large\",\r\n          }}\r\n          size=\"large\"\r\n        >\r\n          <Form.Item\r\n            label=\"商品名\"\r\n            name=\"name\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入商品名\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入商品名\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"类别\"\r\n            name=\"type\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入类别\",\r\n              },\r\n            ]}\r\n          >\r\n            <Category></Category>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"时间\"\r\n            name=\"time\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请选择时间\",\r\n              },\r\n            ]}\r\n          >\r\n            <DatePicker placeholder=\"请输入时间\" onChange={this.handleTime} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"数量\"\r\n            name=\"num\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入数量\",\r\n              },\r\n            ]}\r\n          >\r\n            <InputNumber min={1} placeholder=\"请输入数量\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"价格\"\r\n            name=\"price\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入价格\",\r\n              },\r\n            ]}\r\n          >\r\n            <InputNumber min={1} placeholder=\"请输入价格\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"备注\" name=\"mark\">\r\n            <TextArea\r\n              rows={8}\r\n              showCount\r\n              maxLength={100}\r\n              className=\"textArea-input\"\r\n            ></TextArea>\r\n          </Form.Item>\r\n        </Form>\r\n        <section className=\"refs-container\">\r\n          <Button\r\n            size=\"large\"\r\n            type=\"primary\"\r\n            className=\"refs-btn\"\r\n            onClick={() => this.formRef.submit()}\r\n          >\r\n            提交\r\n          </Button>\r\n        </section>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}