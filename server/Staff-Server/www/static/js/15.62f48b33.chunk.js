(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[15],{396:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},401:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(396);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},406:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(1),r=a(2),c=a(4),i=a(0),o=a(6),l=a.n(o),s=a(33),u=a(59);function m(e){var t=e.className,a=e.direction,c=e.index,o=e.marginDirection,l=e.children,s=e.split,u=e.wrap,m=i.useContext(f),p=m.horizontalSize,d=m.verticalSize,b=m.latestIndex,O={};return m.supportFlexGap||("vertical"===a?c<b&&(O={marginBottom:p/(s?2:1)}):O=Object(n.a)(Object(n.a)({},c<b&&Object(r.a)({},o,p/(s?2:1))),u&&{paddingBottom:d})),null===l||void 0===l?null:i.createElement(i.Fragment,null,i.createElement("div",{className:t,style:O},l),c<b&&s&&i.createElement("span",{className:"".concat(t,"-split"),style:O},s))}var p=a(166),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},f=i.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),b={small:8,middle:16,large:24};t.b=function(e){var t,a=i.useContext(u.b),o=a.getPrefixCls,O=a.space,j=a.direction,v=e.size,h=void 0===v?(null===O||void 0===O?void 0:O.size)||"small":v,g=e.align,y=e.className,x=e.children,w=e.direction,E=void 0===w?"horizontal":w,N=e.prefixCls,S=e.split,C=e.style,z=e.wrap,P=void 0!==z&&z,k=d(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),D=Object(p.a)(),I=i.useMemo((function(){return(Array.isArray(h)?h:[h,h]).map((function(e){return function(e){return"string"===typeof e?b[e]:e||0}(e)}))}),[h]),M=Object(c.a)(I,2),G=M[0],L=M[1],F=Object(s.a)(x,{keepEmpty:!0}),B=void 0===g&&"horizontal"===E?"center":g,T=o("space",N),A=l()(T,"".concat(T,"-").concat(E),(t={},Object(r.a)(t,"".concat(T,"-rtl"),"rtl"===j),Object(r.a)(t,"".concat(T,"-align-").concat(B),B),t),y),R="".concat(T,"-item"),J="rtl"===j?"marginLeft":"marginRight",K=0,W=F.map((function(e,t){return null!==e&&void 0!==e&&(K=t),i.createElement(m,{className:R,key:"".concat(R,"-").concat(t),direction:E,index:t,marginDirection:J,split:S,wrap:P},e)})),_=i.useMemo((function(){return{horizontalSize:G,verticalSize:L,latestIndex:K,supportFlexGap:D}}),[G,L,K,D]);if(0===F.length)return null;var H={};return P&&(H.flexWrap="wrap",D||(H.marginBottom=-L)),D&&(H.columnGap=G,H.rowGap=L),i.createElement("div",Object(n.a)({className:A,style:Object(n.a)(Object(n.a)({},H),C)},k),i.createElement(f.Provider,{value:_},W))}},516:function(e,t,a){},945:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(7),r=a(1),c=a(2),i=a(4),o=a(9),l=a(0),s=a(6),u=a.n(s),m=a(519),p=a(168),d=a(53),f=a(59),b=a(546),O=a(164),j=a(103),v=a(13),h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},g=function(e){var t=e.prefixCls,a=e.children,n=e.actions,i=e.extra,o=e.className,s=e.colStyle,m=h(e,["prefixCls","children","actions","extra","className","colStyle"]),p=l.useContext(w),d=p.grid,b=p.itemLayout,O=l.useContext(f.b).getPrefixCls,g=O("list",t),y=n&&n.length>0&&l.createElement("ul",{className:"".concat(g,"-item-action"),key:"actions"},n.map((function(e,t){return l.createElement("li",{key:"".concat(g,"-item-action-").concat(t)},e,t!==n.length-1&&l.createElement("em",{className:"".concat(g,"-item-action-split")}))}))),x=d?"div":"li",E=l.createElement(x,Object(r.a)({},m,{className:u()("".concat(g,"-item"),Object(c.a)({},"".concat(g,"-item-no-flex"),!("vertical"===b?i:!function(){var e;return l.Children.forEach(a,(function(t){"string"===typeof t&&(e=!0)})),e&&l.Children.count(a)>1}())),o)}),"vertical"===b&&i?[l.createElement("div",{className:"".concat(g,"-item-main"),key:"content"},a,y),l.createElement("div",{className:"".concat(g,"-item-extra"),key:"extra"},i)]:[a,y,Object(v.a)(i,{key:"extra"})]);return d?l.createElement(j.a,{flex:1,style:s},E):E};g.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,c=e.title,i=e.description,o=h(e,["prefixCls","className","avatar","title","description"]),s=(0,l.useContext(f.b).getPrefixCls)("list",t),m=u()("".concat(s,"-item-meta"),a),p=l.createElement("div",{className:"".concat(s,"-item-meta-content")},c&&l.createElement("h4",{className:"".concat(s,"-item-meta-title")},c),i&&l.createElement("div",{className:"".concat(s,"-item-meta-description")},i));return l.createElement("div",Object(r.a)({},o,{className:m}),n&&l.createElement("div",{className:"".concat(s,"-item-meta-avatar")},n),(c||i)&&p)};var y=g,x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},w=l.createContext({});w.Consumer;function E(e){var t,a=e.pagination,s=void 0!==a&&a,j=e.prefixCls,v=e.bordered,h=void 0!==v&&v,g=e.split,y=void 0===g||g,E=e.className,N=e.children,S=e.itemLayout,C=e.loadMore,z=e.grid,P=e.dataSource,k=void 0===P?[]:P,D=e.size,I=e.header,M=e.footer,G=e.loading,L=void 0!==G&&G,F=e.rowKey,B=e.renderItem,T=e.locale,A=x(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),R=s&&"object"===Object(o.a)(s)?s:{},J=l.useState(R.defaultCurrent||1),K=Object(i.a)(J,2),W=K[0],_=K[1],H=l.useState(R.defaultPageSize||10),Y=Object(i.a)(H,2),q=Y[0],Q=Y[1],U=l.useContext(f.b),V=U.getPrefixCls,X=U.renderEmpty,Z=U.direction,$={},ee=function(e){return function(t,a){_(t),Q(a),s&&s[e]&&s[e](t,a)}},te=ee("onChange"),ae=ee("onShowSizeChange"),ne=V("list",j),re=L;"boolean"===typeof re&&(re={spinning:re});var ce=re&&re.spinning,ie="";switch(D){case"large":ie="lg";break;case"small":ie="sm"}var oe=u()(ne,(t={},Object(c.a)(t,"".concat(ne,"-vertical"),"vertical"===S),Object(c.a)(t,"".concat(ne,"-").concat(ie),ie),Object(c.a)(t,"".concat(ne,"-split"),y),Object(c.a)(t,"".concat(ne,"-bordered"),h),Object(c.a)(t,"".concat(ne,"-loading"),ce),Object(c.a)(t,"".concat(ne,"-grid"),!!z),Object(c.a)(t,"".concat(ne,"-something-after-last-item"),!!(C||s||M)),Object(c.a)(t,"".concat(ne,"-rtl"),"rtl"===Z),t),E),le=Object(r.a)(Object(r.a)(Object(r.a)({},{current:1,total:0}),{total:k.length,current:W,pageSize:q}),s||{}),se=Math.ceil(le.total/le.pageSize);le.current>se&&(le.current=se);var ue=s?l.createElement("div",{className:"".concat(ne,"-pagination")},l.createElement(b.a,Object(r.a)({},le,{onChange:te,onShowSizeChange:ae}))):null,me=Object(n.a)(k);s&&k.length>(le.current-1)*le.pageSize&&(me=Object(n.a)(k).splice((le.current-1)*le.pageSize,le.pageSize));var pe=Object(p.a)(),de=l.useMemo((function(){for(var e=0;e<d.b.length;e+=1){var t=d.b[e];if(pe[t])return t}}),[pe]),fe=l.useMemo((function(){if(z){var e=de&&z[de]?z[de]:z.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===z||void 0===z?void 0:z.column,de]),be=ce&&l.createElement("div",{style:{minHeight:53}});if(me.length>0){var Oe=me.map((function(e,t){return function(e,t){return B?((a="function"===typeof F?F(e):"string"===typeof F?e[F]:e.key)||(a="list-item-".concat(t)),$[t]=a,B(e,t)):null;var a}(e,t)})),je=l.Children.map(Oe,(function(e,t){return l.createElement("div",{key:$[t],style:fe},e)}));be=z?l.createElement(O.a,{gutter:z.gutter},je):l.createElement("ul",{className:"".concat(ne,"-items")},Oe)}else N||ce||(be=function(e,t){return l.createElement("div",{className:"".concat(e,"-empty-text")},T&&T.emptyText||t("List"))}(ne,X));var ve=le.position||"bottom";return l.createElement(w.Provider,{value:{grid:z,itemLayout:S}},l.createElement("div",Object(r.a)({className:oe},A),("top"===ve||"both"===ve)&&ue,I&&l.createElement("div",{className:"".concat(ne,"-header")},I),l.createElement(m.a,re,be,N),M&&l.createElement("div",{className:"".concat(ne,"-footer")},M),C||("bottom"===ve||"both"===ve)&&ue))}E.Item=y;t.b=E},952:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(34),r=a.n(n),c=a(401),i=a(64),o=a(48),l=a(49),s=a(51),u=a(50),m=a(0),p=a(945),d=a(371),f=a(406),b=a(46),O=(a(516),a(41)),j=a(31),v=a(43),h=a(160),g=a(3),y=O.b.getNoticeByDate,x=O.b.readNotice,w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={listData:[],total:0},e.handleGetNotice=function(){var t=Object(i.a)(r.a.mark((function t(a){var n,i,o,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.state.listData).length=0,i=new Date,o="".concat(i.getFullYear(),"\u5e74-").concat(i.getMonth()+1,"\u6708-").concat(i.getDate(),"\u65e5"),t.next=6,y(a,o);case 6:(l=t.sent).data&&(l.data.forEach((function(e){n.push(Object(c.a)(Object(c.a)(Object(c.a)({},e),e.admin),e.notice))})),n.length&&h.a.emit("hot",!0),e.setState({listData:n,total:l.pageSize}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRead=function(){var t=Object(i.a)(r.a.mark((function t(a,n){var c,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.state.listData,t.next=3,x(a._id);case 3:"200"===(i=t.sent).code?(c[n].status="1",Object(j.a)("\u8bfb\u53d6\u6210\u529f","success"),e.setState({listData:c})):Object(j.a)(i.msg);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.handleGetNotice(1),Object(v.m)((function(e){e&&setTimeout((function(){window.location.reload()}),2e3)}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(p.b,{locale:{emptyText:0===this.state.total?"\u6682\u65e0\u4fe1\u606f":""},header:Object(g.jsxs)("h2",{style:{textIndent:20},children:["\u4eca\u65e5\u6709",this.state.total,"\u6761\u6d88\u606f"]}),itemLayout:"horizontal",size:"large",pagination:{onChange:function(t){e.handleGetNotice(t)},total:this.state.total,pageSize:5},dataSource:this.state.listData,renderItem:function(t,a){return Object(g.jsxs)(p.b.Item,{className:"list-item",children:[Object(g.jsx)(p.b.Item.Meta,{avatar:Object(g.jsx)(d.a,{src:t.imgPath}),title:t.title,description:Object(g.jsxs)(f.b,{children:[t.name,t.position,Object(g.jsx)("span",{style:{color:"black"},children:t.createTime})]})}),t.content,t.file&&Object(g.jsxs)("section",{className:"notice-file",children:["\u76f8\u5173\u6587\u4ef6\u5730\u5740:",Object(g.jsx)("a",{href:"/api"+t.file,download:!0,children:t.title})]}),Object(g.jsx)("section",{className:"btn-container",children:Object(g.jsx)(f.b,{style:{float:"right"},children:Object(g.jsxs)(b.a,{type:"primary",disabled:t.status>0,onClick:function(){return e.handleRead(t,a)},children:[0===t.status?"\u672a":"\u5df2","\u8bfb"]})})})]},t._id)}}),","]})}}]),a}(m.Component)}}]);
//# sourceMappingURL=15.62f48b33.chunk.js.map