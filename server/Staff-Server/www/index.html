<html>
	<head>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	</head>
	<body>
		<div>
			输入Id:<input type="text" class="userId">
			<button class="login">登录</button>
			内容:<input type="text" class="content">
            <button class="send">发送</button>
		</div>
	</body>
	<script type="text/javascript" src="./js/client-dist/socket.io.js"></script>
	<script>
        (()=>{
		let login=document.querySelector(".login");
        let btn=document.querySelector(".send");
		let input=document.querySelector(".content");
		let user=document.querySelector(".user");
		let userId=document.querySelector(".userId");
		let upload=document.querySelector(".upload");
		const socket=io.connect("http://localhost:3030/");
		login.addEventListener("click",()=>{
			socket.emit("login",userId.value);
		
		},false);
		socket.on('message',(data)=>{
				console.log(data);	
			})
		socket.on('onechat',(data)=>{
				console.log(data);	
			})
		btn.addEventListener("click",()=>{
			socket.emit("notice",input.value);
		},false)
		// upload.addEventListener("change",()=>{
		// 	let file=upload.files[0];
		// 	const form=new FormData();
		// 	form.append("file",file);
		// 	axios({
		// 		url:"http://127.0.0.1:3000/upload",
		// 		method:"POST",
		// 		data:form,
		// 		headers:{
		// 			"content-type":"multipart/form-data"
		// 		},
		// 		onUploadProgress:e=>{
		// 			console.log(e);
		// 		}
		// 	}).then(res=>{
		// 		console.log(res);
		// 	}).catch(err=>{
		// 		console.log(err);
		// 	})
		// },false)
        })()
	</script>
</html>